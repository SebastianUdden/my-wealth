{"version":3,"sources":["webpack:///./src/utils/api.js","webpack:///./src/constants/urls.js","webpack:///./src/components/chat/ResizableTextarea.js","webpack:///./src/components/chat/ChatInput.js","webpack:///./src/hooks/useKeyPress.js","webpack:///./src/components/users/Avatar.js","webpack:///./src/components/chat/ChatMessage.js","webpack:///./src/components/chat/Chat.js","webpack:///./src/components/login/LoginInput.js","webpack:///./src/components/login/LoginForm.js","webpack:///./src/components/signup/SignupForm.js","webpack:///./src/components/users/User.js","webpack:///./src/components/users/Users.js","webpack:///./src/components/main.js","webpack:///./src/pages/index.js","webpack:///./src/constants/colors.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/seo.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js"],"names":["get","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","url","token","value","wrap","_context","prev","next","console","log","axios","params","then","response","data","catch","error","sent","abrupt","stop","_x","_x2","apply","this","arguments","create","_ref2","_callee2","body","_context2","post","_x3","_x4","_x5","remove","_ref3","_callee3","_context3","delete","_x6","_x7","apiUrl","process","ResizableTextarea","setValue","rows","setRows","react_default","createElement","Input","id","placeholder","onChange","event","previousRows","target","currentRows","scrollHeight","scrollTop","styled","textarea","_templateObject","colors","darkerGrey","white","scrollToBottom","setTimeout","window","scrollTo","document","ChatInput","userId","setDbUpdate","dbUpdate","_useState","useState","_useState2","_useState3","doOnce","setDoOnce","enterPress","targetKey","keyPressed","setKeyPressed","downHandler","key","upHandler","useEffect","addEventListener","removeEventListener","useKeyPress","text","user","getElementById","focus","Fragment","ChatInputWrapper","ResizableTextarea_ResizableTextarea","Button","onClick","div","ChatInput_templateObject","_templateObject2","button","_templateObject3","darkGrey","Avatar","image","currentUser","AvatarImage","src","alt","img","Avatar_templateObject","p","ChatMessage","message","users","clicked","setClicked","find","_id","ChatMessageWrapper","Avatar_Avatar","Username","username","Message","empty","trim","Delete","CreatedAt","createdAt","Date","toLocaleString","ChatMessage_templateObject","ChatMessage_templateObject2","darkishGrey","brightGrey","ChatMessage_templateObject3","_templateObject4","span","_templateObject5","Chat","setLoggedIn","undefined","messages","setMessages","localStorage","getItem","Array","isArray","length","ChatWrapper","ChatBox","map","ChatMessage_ChatMessage","ChatInput_ChatInput","Chat_templateObject","Chat_templateObject2","LoginInput","type","LoginInput_Input","e","input","LoginInput_templateObject","LoginForm","setSignup","showLogin","setShowLogin","setUsername","password","setPassword","_useState4","setUsers","_useState5","loginAttempt","setLoginAttempt","LoginFormWrapper","LoginInput_LoginInput","LoginButton","HandleLogin","style","color","Signup","LoginForm_templateObject","LoginForm_templateObject2","grey","LoginForm_templateObject3","clear","setItem","SignupForm","showSignup","setShowSignup","email","setEmail","firstname","setFirstname","_useState6","lastname","setLastname","_useState7","location","setLocation","_useState8","setImage","_useState9","_useState10","signupAttempt","setSignupAttempt","SignupFormWrapper","SignupButton","HandleSignup","SignupForm_templateObject","SignupForm_templateObject2","signupData","User","UserWrapper","AvatarWrapper","User_Username","Info","User_templateObject","h2","User_templateObject2","User_templateObject3","User_templateObject4","Users","User_User","Main","tab","setTab","loggedIn","signup","MainWrapper","LoginForm_LoginForm","SignupForm_SignupForm","TabWrapper","Tab","Users_Users","Chat_Chat","main_templateObject","main_templateObject2","main_templateObject3","IndexPage","layout","seo","title","keywords","main_Main","__webpack_require__","d","__webpack_exports__","black","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","props","Consumer","staticQueryData","query","render","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","SEO","description","lang","meta","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","name","content","property","author","concat","join","defaultProps","array","arrayOf","Header","siteTitle","background","margin","maxWidth","padding","gatsby_browser_entry","to","textDecoration","Layout","header","paddingTop","_755544856","node"],"mappings":"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","file":"component---src-pages-index-js-846d2e47bfbf289f9c29.js","sourcesContent":["import axios from 'axios';\n\nexport const get = async (url, token) => {\n  console.log('url: ', url);\n\n  const value = await axios\n    .get(url, {\n      params: {\n        token,\n      },\n    })\n    .then(response => {\n      console.log('GET-response: ', response);\n\n      return response && response.data;\n    })\n    .catch(error => {\n      console.log('GET-error: ', error);\n      return error;\n    });\n  return value;\n};\n\nexport const create = async (url, body, token) => {\n  const value = await axios\n    .post(url, body, {\n      params: {\n        token,\n      },\n    })\n    .then(response => {\n      console.log('POST-response: ', response);\n      return response && response.data && response.data;\n    })\n    .catch(error => {\n      console.log('POST-error: ', error);\n      return error;\n    });\n  return value;\n};\n\nexport const update = (url, token) => {\n  return `Updating ${url}, authenticating with ${token}`;\n};\n\nexport const remove = async (url, token) => {\n  const value = await axios\n    .delete(url)\n    .then(response => {\n      console.log('DELETE-response: ', response);\n      return response && response.data && response.data;\n    })\n    .catch(error => {\n      console.log('DELETE-error: ', error);\n      return error;\n    });\n  return value;\n};\n","export const apiUrl = process.env.GATSBY_API_URL;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { colors } from '../../constants/colors';\n\nexport const ResizableTextarea = ({ value, setValue, rows, setRows }) => {\n  const minRows = 1;\n  const maxRows = 25;\n\n  const handleChange = event => {\n    const textareaLineHeight = 24;\n\n    const previousRows = event.target.rows;\n    event.target.rows = minRows; // reset number of rows in textarea\n\n    const currentRows = ~~(event.target.scrollHeight / textareaLineHeight);\n\n    if (currentRows === previousRows) {\n      event.target.rows = currentRows;\n    }\n\n    if (currentRows >= maxRows) {\n      event.target.rows = maxRows;\n      event.target.scrollTop = event.target.scrollHeight;\n    }\n    setValue(event.target.value);\n    setRows(currentRows < maxRows ? currentRows : maxRows);\n  };\n\n  return (\n    <Input\n      id=\"ChatInput\"\n      placeholder=\"Message...\"\n      rows={rows}\n      value={value}\n      onChange={handleChange}\n    />\n  );\n};\n\nconst Input = styled.textarea`\n  width: 100%;\n  min-width: 50vw;\n  padding: 0.5rem;\n  background-color: ${colors.darkerGrey};\n  color: ${colors.white};\n  border: none;\n  border-bottom: 1px solid ${colors.white};\n  outline: none;\n  resize: none;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { colors } from '../../constants/colors';\nimport { create } from '../../utils/api';\nimport { apiUrl } from '../../constants/urls';\nimport { ResizableTextarea } from './ResizableTextarea';\nimport { useKeyPress } from '../../hooks/useKeyPress';\n\nconst scrollToBottom = (setValue, setRows) => {\n  setTimeout(() => {\n    setValue('');\n    setRows(1);\n    window.scrollTo(0, document.body.scrollHeight);\n  }, 100);\n};\n\nexport const ChatInput = ({ userId, setDbUpdate, dbUpdate, token }) => {\n  const [value, setValue] = useState('');\n  const [rows, setRows] = useState(1);\n  const [doOnce, setDoOnce] = useState(false);\n  const enterPress = useKeyPress('Enter');\n\n  useEffect(() => {\n    setTimeout(() => scrollToBottom(setValue, setRows), 200);\n  }, []);\n\n  if (enterPress && !doOnce && value) {\n    setDoOnce(true);\n    create(\n      `${apiUrl}/messages`,\n      {\n        text: value,\n        user: userId,\n      },\n      token\n    ).then(response => {\n      console.log('userId: ', userId);\n      console.log('CHAT-CREATE-KEYPRESS-response: ', response);\n      setDbUpdate(!dbUpdate);\n      document.getElementById('ChatInput').focus();\n      setTimeout(() => scrollToBottom(setValue, setRows), 200);\n      setTimeout(() => setDoOnce(false), 1000);\n    });\n  }\n  return (\n    <>\n      <ChatInputWrapper>\n        <ResizableTextarea\n          id=\"ChatInput\"\n          placeholder=\"Message...\"\n          value={value}\n          setValue={setValue}\n          rows={rows}\n          setRows={setRows}\n        />\n        <Button\n          onClick={() => {\n            if (value && !doOnce) {\n              setDoOnce(true);\n              create(\n                `${apiUrl}/messages`,\n                {\n                  text: value,\n                  user: userId,\n                },\n                token\n              ).then(response => {\n                console.log('userId: ', userId);\n                console.log('CHAT-CREATE-BUTTON-response: ', response);\n                setDbUpdate(!dbUpdate);\n                document.getElementById('ChatInput').focus();\n                setTimeout(() => scrollToBottom(setValue, setRows), 200);\n              });\n            }\n          }}\n        >\n          &#x27A3;\n        </Button>\n      </ChatInputWrapper>\n    </>\n  );\n};\n\nconst ChatInputWrapper = styled.div`\n  background-color: ${colors.darkerGrey};\n  padding: 1rem;\n  display: flex;\n  justify-content: space-evenly;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst Input = styled.textarea`\n  width: 100%;\n  min-width: 50vw;\n  padding: 0.5rem;\n  background-color: ${colors.darkerGrey};\n  color: ${colors.white};\n  border: none;\n  border-bottom: 1px solid ${colors.white};\n  outline: none;\n  border: 1px solid red;\n  height: 100%;\n`;\n\nconst Button = styled.button`\n  padding: 0.6rem 0.6rem;\n  font-size: 1.5em;\n  border: none;\n  border-radius: 10rem;\n  background-color: ${colors.white};\n  color: ${colors.darkGrey};\n`;\n","import { useState, useEffect } from 'react';\n\n// Hook\nexport function useKeyPress(targetKey) {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = useState(false);\n\n  // If pressed key is our target key then set to true\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      setKeyPressed(true);\n    }\n  }\n\n  // If released key is our target key then set to false\n  const upHandler = ({ key }) => {\n    if (key === targetKey) {\n      setKeyPressed(false);\n    }\n  };\n\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener('keydown', downHandler);\n    window.addEventListener('keyup', upHandler);\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener('keydown', downHandler);\n      window.removeEventListener('keyup', upHandler);\n    };\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n\n  return keyPressed;\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport const Avatar = ({ image, currentUser }) => {\n  return <AvatarImage currentUser={currentUser} src={image} alt=\"Avatar\" />;\n};\n\nconst AvatarImage = styled.img`\n  width: 3rem;\n  height: 3rem;\n  border-radius: 5rem;\n  margin: ${p => (!p.currentUser ? '1.2rem' : 0)} 0.5rem 0 0;\n`;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { colors } from '../../constants/colors';\nimport { Avatar } from '../users/Avatar';\nimport { remove } from '../../utils/api';\nimport { apiUrl } from '../../constants/urls';\n\nexport const ChatMessage = ({\n  message,\n  users,\n  setDbUpdate,\n  dbUpdate,\n  currentUser,\n  token,\n}) => {\n  const [clicked, setClicked] = useState(false);\n  const user = users && users.find(user => user._id === message.user);\n\n  return (\n    <>\n      <ChatMessageWrapper currentUser={currentUser}>\n        <Avatar currentUser={currentUser} image={user && user.image} />\n        <div>\n          {!currentUser && <Username>{user && user.username}</Username>}\n          <Message\n            empty={!message.text || !message.text.trim()}\n            currentUser={currentUser}\n            onClick={() => setClicked(!clicked)}\n          >\n            {message.text}{' '}\n            {currentUser && clicked && (\n              <Delete\n                onClick={() => {\n                  remove(`${apiUrl}/messages/${message._id}`, token).then(\n                    response => {\n                      console.log('response: ', response);\n                      setDbUpdate(!dbUpdate);\n                    }\n                  );\n                }}\n              >\n                &#x2715;\n              </Delete>\n            )}\n          </Message>\n          <CreatedAt>\n            {message.createdAt && new Date(message.createdAt).toLocaleString()}\n          </CreatedAt>\n        </div>\n      </ChatMessageWrapper>\n    </>\n  );\n};\n\nconst ChatMessageWrapper = styled.div`\n  color: ${colors.white};\n  margin: 0.5rem 0;\n  padding: 1rem 0.5rem;\n  border-radius: 0.3rem;\n  display: flex;\n  flex-direction: ${p => (p.currentUser ? 'row-reverse' : 'row')};\n  max-width: 100%;\n`;\n\nconst Message = styled.p`\n  background-color: ${p =>\n    p.currentUser ? colors.darkishGrey : colors.brightGrey};\n  margin: 0 0.2rem;\n  padding: 0.5rem 0.7rem;\n  display: flex;\n  justify-content: ${p => (p.empty ? 'flex-end' : 'space-between')};\n  align-items: flex-start;\n  border-radius: 1rem;\n  word-break: break-word;\n\n  :hover {\n    background-color: ${colors.brightGrey};\n    cursor: pointer;\n  }\n`;\n\nconst CreatedAt = styled.p`\n  margin: 0 1rem;\n  padding: 0;\n  color: ${colors.brightGrey};\n`;\n\nconst Username = styled.p`\n  margin: 0.1rem 0.8rem;\n  padding: 0;\n  color: ${colors.brightGrey};\n`;\n\nconst Delete = styled.span`\n  background-color: ${colors.brightGrey};\n  color: ${colors.white};\n  border-radius: 1rem;\n  margin-left: 0.5rem;\n  padding: 0 0.3rem;\n  :hover {\n    color: ${colors.white};\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { get } from '../../utils/api';\nimport { apiUrl } from '../../constants/urls';\nimport { ChatInput } from './ChatInput';\nimport { ChatMessage } from './ChatMessage';\n\nexport const Chat = ({ users, setLoggedIn, token }) => {\n  const [messages, setMessages] = useState(undefined);\n  const [dbUpdate, setDbUpdate] = useState(false);\n  const currentUser =\n    users &&\n    users.find(user => localStorage.getItem('username') === user.username);\n  console.log('currentUser: ', currentUser);\n\n  useEffect(() => {\n    if (\n      users &&\n      Array.isArray(users) &&\n      users.length !== 0 &&\n      !users.find(user => localStorage.getItem('username') === user.username)\n    ) {\n      setLoggedIn(false);\n    }\n    get(`${apiUrl}/messages`, token).then(messages => {\n      console.log('messages: ', messages);\n\n      setMessages(messages);\n    });\n  }, [dbUpdate]);\n\n  return (\n    <ChatWrapper>\n      <ChatBox>\n        {messages &&\n          Array.isArray(messages) &&\n          messages.map(message => {\n            const currentUser =\n              users && users.find(user => user._id === message.user);\n\n            return (\n              <ChatMessage\n                key={message._id}\n                message={message}\n                users={users}\n                setDbUpdate={setDbUpdate}\n                dbUpdate={dbUpdate}\n                currentUser={\n                  localStorage.getItem('username') ===\n                  (currentUser && currentUser.username)\n                }\n                token={token}\n              />\n            );\n          })}\n        <ChatInput\n          userId={currentUser && currentUser._id}\n          messages={messages}\n          setMessages={setMessages}\n          setDbUpdate={setDbUpdate}\n          dbUpdate={dbUpdate}\n          token={token}\n        />\n      </ChatBox>\n    </ChatWrapper>\n  );\n};\n\nconst ChatWrapper = styled.div`\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  padding: 0.5rem 0.8rem 4rem;\n`;\nconst ChatBox = styled.div`\n  min-height: 50vh;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { colors } from '../../constants/colors';\n\nexport const LoginInput = ({ placeholder, type, value, setValue }) => {\n  return (\n    <Input\n      placeholder={placeholder}\n      type={type}\n      value={value}\n      onChange={e => setValue(e.target.value)}\n    />\n  );\n};\n\nconst Input = styled.input`\n  display: flex;\n  background-color: ${colors.darkerGrey};\n  border: none;\n  border-bottom: 1px solid ${colors.white};\n  outline: none;\n  color: ${colors.white};\n  margin: 1rem;\n  padding: 0.5rem;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport { get } from '../../utils/api';\nimport { LoginInput } from './LoginInput';\nimport { colors } from '../../constants/colors';\nimport { apiUrl } from '../../constants/urls';\n\nexport const LoginForm = ({ setLoggedIn, setSignup }) => {\n  const [showLogin, setShowLogin] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [users, setUsers] = useState('');\n  const [loginAttempt, setLoginAttempt] = useState(0);\n\n  useEffect(() => {\n    setTimeout(() => setShowLogin(true), 200);\n  }, []);\n  useEffect(() => {\n    get(`${apiUrl}/users`).then(users => {\n      console.log('Login-users: ', users);\n      setUsers(users);\n    });\n  }, [loginAttempt]);\n\n  return (\n    <LoginFormWrapper>\n      {showLogin && (\n        <>\n          <h1>Login</h1>\n          <LoginInput\n            placeholder=\"Username\"\n            type=\"text\"\n            value={username}\n            setValue={setUsername}\n          />\n          <LoginInput\n            placeholder=\"Password\"\n            type=\"password\"\n            value={password}\n            setValue={setPassword}\n          />\n          <LoginButton\n            onClick={() => {\n              setLoginAttempt(loginAttempt + 1);\n              HandleLogin(username, password, setLoggedIn, users);\n            }}\n          >\n            Login\n          </LoginButton>\n          {loginAttempt > 0 && (\n            <p style={{ color: 'red' }}>Invalid login ({loginAttempt})</p>\n          )}\n          <p>\n            Sign up <Signup onClick={() => setSignup(true)}>here</Signup>\n          </p>\n        </>\n      )}\n    </LoginFormWrapper>\n  );\n};\n\nconst LoginFormWrapper = styled.div`\n  margin-top: 1rem;\n  text-align: center;\n`;\n\nconst LoginButton = styled.button`\n  background-color: ${colors.darkerGrey};\n  color: ${colors.white};\n  padding: 0.5rem 3rem;\n  margin: 1rem;\n\n  :hover {\n    background-color: ${colors.grey};\n    cursor: pointer;\n  }\n`;\n\nconst Signup = styled.span`\n  color: orange;\n\n  :hover {\n    color: white;\n    cursor: pointer;\n  }\n`;\n\nconst HandleLogin = (username, password, setLoggedIn, users) => {\n  localStorage.clear();\n  if (\n    users &&\n    users.find(user => user.username === username && user.password === password)\n  ) {\n    localStorage.setItem('username', username);\n    localStorage.setItem('password', password);\n    setLoggedIn(true);\n  } else {\n    setLoggedIn(false);\n    console.log('not loggedIn, set');\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport { get, create } from '../../utils/api';\nimport { LoginInput } from '../login/LoginInput';\nimport { colors } from '../../constants/colors';\nimport { apiUrl } from '../../constants/urls';\n\nexport const SignupForm = ({ setLoggedIn, setSignup, token }) => {\n  const [showSignup, setShowSignup] = useState(false);\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [location, setLocation] = useState('');\n  const [image, setImage] = useState('');\n  const [users, setUsers] = useState('');\n  const [signupAttempt, setSignupAttempt] = useState(0);\n\n  useEffect(() => {\n    setTimeout(() => setShowSignup(true), 200);\n  }, []);\n  useEffect(() => {\n    get(`${apiUrl}/users`, token).then(users => {\n      console.log('Signup-users: ', users);\n      setUsers(users);\n    });\n  }, [signupAttempt]);\n\n  return (\n    <SignupFormWrapper>\n      {showSignup && (\n        <>\n          <h1>Sign Up</h1>\n          <LoginInput\n            placeholder=\"Username\"\n            type=\"text\"\n            value={username}\n            setValue={setUsername}\n          />\n          <LoginInput\n            placeholder=\"E-mail\"\n            type=\"text\"\n            value={email}\n            setValue={setEmail}\n          />\n          <LoginInput\n            placeholder=\"Password\"\n            type=\"password\"\n            value={password}\n            setValue={setPassword}\n          />\n          <LoginInput\n            placeholder=\"First name\"\n            type=\"text\"\n            value={firstname}\n            setValue={setFirstname}\n          />\n          <LoginInput\n            placeholder=\"Last name\"\n            type=\"text\"\n            value={lastname}\n            setValue={setLastname}\n          />\n          <LoginInput\n            placeholder=\"Location\"\n            type=\"text\"\n            value={location}\n            setValue={setLocation}\n          />\n          <LoginInput\n            placeholder=\"Image url\"\n            type=\"text\"\n            value={image}\n            setValue={setImage}\n          />\n          <SignupButton\n            onClick={() => {\n              setSignupAttempt(signupAttempt + 1);\n              HandleSignup(\n                {\n                  username,\n                  email,\n                  password,\n                  firstname,\n                  lastname,\n                  location,\n                  image,\n                },\n                users,\n                token\n              );\n              localStorage.clear();\n              setLoggedIn(false);\n              setSignup(false);\n            }}\n          >\n            Sign Up\n          </SignupButton>\n          {signupAttempt > 0 && (\n            <p style={{ color: 'red' }}>Invalid sign up ({signupAttempt})</p>\n          )}\n        </>\n      )}\n    </SignupFormWrapper>\n  );\n};\n\nconst SignupFormWrapper = styled.div`\n  text-align: center;\n`;\n\nconst SignupButton = styled.button`\n  background-color: ${colors.darkerGrey};\n  color: ${colors.white};\n  padding: 0.5rem 3rem;\n  margin: 1rem;\n\n  :hover {\n    background-color: ${colors.grey};\n    cursor: pointer;\n  }\n`;\n\nconst HandleSignup = (signupData, users, token) => {\n  if (\n    users &&\n    users.find(\n      user =>\n        user.username === signupData.username || user.email === signupData.email\n    )\n  ) {\n    return undefined;\n  } else {\n    create(`${apiUrl}/users`, signupData, token).then(response => {\n      console.log('USER-CREATE-response: ', response);\n    });\n  }\n};\n","import React from 'react'\nimport styled from 'styled-components'\nimport { colors } from '../../constants/colors'\nimport { Avatar } from './Avatar'\n\nexport const User = ({ user }) => {\n  return (\n    <UserWrapper>\n      <AvatarWrapper>\n        <Avatar image={user.image} />\n        <Username>{user.username}</Username>\n      </AvatarWrapper>\n      <Info>\n        Name: {user.firstname} {user.lastname}\n      </Info>\n      <Info>Location: {user.location}</Info>\n    </UserWrapper>\n  )\n}\n\nconst UserWrapper = styled.div`\n  background-color: ${colors.darkGrey};\n  border-radius: 0.5rem;\n  padding: 1rem 1rem 2.5rem;\n  margin: 1rem;\n`\n\nconst Username = styled.h2`\n  margin: 0;\n`\n\nconst Info = styled.p`\n  margin: 0.2rem 0;\n`\n\nconst AvatarWrapper = styled.div`\n  height: 5rem;\n  display: flex;\n  align-items: center;\n`\n","import React from 'react';\nimport { User } from './User';\n\nexport const Users = ({ users }) => (\n  <div>\n    {users &&\n      Array.isArray(users) &&\n      users.map(user => {\n        return <User user={user} />;\n      })}\n  </div>\n);\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { colors } from '../constants/colors';\nimport { Chat } from './chat/Chat';\nimport { LoginForm } from './login/LoginForm';\nimport { SignupForm } from './signup/SignupForm';\nimport { Users } from './users/Users';\nimport { get } from '../utils/api';\nimport { apiUrl } from '../constants/urls';\n\nexport const Main = () => {\n  const [tab, setTab] = useState('Chat');\n  const [users, setUsers] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [signup, setSignup] = useState(false);\n  const token = localStorage.getItem('username');\n\n  useEffect(() => {\n    get(`${apiUrl}/users`, token).then(users => {\n      setUsers(users);\n      setLoggedIn(\n        users.find(user => user.username === localStorage.getItem('username'))\n      );\n    });\n  }, []);\n\n  return (\n    <>\n      {!loggedIn && !signup && (\n        <MainWrapper>\n          <LoginForm setSignup={setSignup} setLoggedIn={setLoggedIn} />\n        </MainWrapper>\n      )}\n      {!loggedIn && signup && (\n        <MainWrapper>\n          <SignupForm setLoggedIn={setLoggedIn} setSignup={setSignup} />\n        </MainWrapper>\n      )}\n      {loggedIn && (\n        <>\n          <TabWrapper>\n            <Tab onClick={() => setTab('Users')}>Users</Tab>\n            <Tab onClick={() => setTab('Chat')}>Chat</Tab>\n            <Tab\n              onClick={() => {\n                localStorage.clear();\n                setLoggedIn(false);\n              }}\n            >\n              Sign Out\n            </Tab>\n          </TabWrapper>\n          <MainWrapper>\n            {tab === 'Users' && (\n              <Users users={users} setLoggedIn={setLoggedIn} token={token} />\n            )}\n            {tab === 'Chat' && (\n              <Chat users={users} setLoggedIn={setLoggedIn} token={token} />\n            )}\n          </MainWrapper>\n        </>\n      )}\n    </>\n  );\n};\n\nconst MainWrapper = styled.div`\n  color: ${colors.white};\n  display: flex;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n`;\n\nconst TabWrapper = styled.div`\n  display: flex;\n  justify-content: stretch;\n`;\n\nconst Tab = styled.button`\n  background-color: ${colors.darkGrey};\n  color: ${colors.white};\n  width: 100%;\n  padding: 0.8rem 0;\n  margin: 1rem 0.5rem;\n  border: none;\n\n  :hover {\n    background-color: ${colors.grey};\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { Main } from '../components/main';\n\nconst IndexPage = () => (\n  <Layout>\n    <SEO title=\"Home\" keywords={[`gatsby`, `application`, `react`]} />\n    <Main />\n  </Layout>\n);\n\nexport default IndexPage;\n","export const colors = {\n  black: '#111',\n  white: '#fff',\n  darkerGrey: '#222',\n  darkishGrey: '#333',\n  darkGrey: '#3a3a3a',\n  grey: '#444',\n  brightGrey: '#666',\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { useStaticQuery, graphql } from 'gatsby'\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n                name: `keywords`,\n                content: keywords.join(`, `),\n              }\n            : []\n        )\n        .concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  keywords: [],\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { colors } from '../constants/colors';\n\nconst Header = ({ siteTitle }) => (\n  <header\n    style={{\n      background: colors.black,\n    }}\n  >\n    <div\n      style={{\n        margin: `0 auto`,\n        maxWidth: 960,\n        padding: `1.45rem 1.0875rem`,\n      }}\n    >\n      <h1 style={{ margin: 0 }}>\n        <Link\n          to=\"/\"\n          style={{\n            color: colors.white,\n            textDecoration: `none`,\n          }}\n        >\n          {siteTitle}\n        </Link>\n        {/* <span\n          style={{\n            color: colors.white,\n            textDecoration: `none`,\n          }}\n          onClick={() => {\n            localStorage.clear();\n          }}\n        >\n          Sign out\n        </span> */}\n      </h1>\n    </div>\n  </header>\n);\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  siteTitle: ``,\n};\n\nexport default Header;\n","/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { StaticQuery, graphql } from 'gatsby';\n\nimport Header from './header';\nimport './layout.css';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <div\n          style={{\n            margin: `0 auto`,\n            maxWidth: 960,\n            padding: `0 0.2rem 1.45rem`,\n            paddingTop: 0,\n          }}\n        >\n          <main>{children}</main>\n          <footer />\n        </div>\n      </>\n    )}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n"],"sourceRoot":""}